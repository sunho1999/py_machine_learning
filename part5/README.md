# 데이터 사전처리

* part 5
    ---
    
    * chap1 누락 데이터 처리
        ---
        >머신러닝 분석 모형에 데이터를 입력하기 전에 반드시 누락 데이터를 제거하거나 다른 적절한 값으로 대체
        하는 과정이 필요하다. 일반적으로 유효한 데이터 값이 존재하지 않는 누락 데이터를 NaN으로 표시한다.
        
        * 누락 데이터 확인
            ~~~
            df['열'].value_counts(dropna=False): 데이터 프레임의[열]의 NaN 개수를 계산할 수 있다.            
            isnull(): 누락 데이터면 True를 반환하고, 유효한 데이터가 존재하면 False를 반환한다.
            notnul(): 유요한 데이터가 존재하면 True를 반환하고, 누락 데이터면 False를 반환한다.
            ~~~  
        * 누락 데이터 제거
          >열을 삭제하면 분석 대상이 갖는 특성(변수)를 제거하고, 행을 삭제하면 분석 대상의 관측값(레코드)을 제거하게 된다.
          ~~~
          value_counts 나 innull()등으로 누적 데이터 개수를 확인한다.       
          df.dropna(axis = 0 or 1, thresh=NaN개수) 메소드를 적용하여 행 또는 열에 맞춰 thresh에 입력한 NaN의 개수 이상인 값은 삭제된다.
          ~~~
        * 누락 데이터 치환
          ~~~
          fillna(): 새로운 객체를 반환하기 떄문에 원본 객체를 변경하려면 inplace = True옵션을 추가해야한다.
          앞이다 뒤의 이웃하고 있는 값으로 치환하고 싶을 떄 fillna() 메소드에 옵션을 추가한다.
          -method = 'ffill': NaN이 있는 행의 바로 직전행에 있는 값을 가지고 치환
          -method = 'bfill': NaN이 있는 행의 바로 다음향에 있는 값을 가지고 치환
          ~~~
    * chap2 중복 데이터 처리
        ---
        > 하나의 데이터셋에서 동일한 관측값이 2개 이상 중복되는 경우 중복 데이터를 찾아서 삭제해야 한다.
         동일한  대상이 중복으로 존재하는 것이므로 분석 결과를 왜곡하기 때문이다.
       
        * 중복 데이터 확인
          ~~~
          duplicated() : 동일한 관측값이 중복되는지 여부,즉 행의 레코드가 중복되는지 여부를 확인할 때 사용하는 메소드
          전에 나온 행들과 비교하여 중복되는 행이면 True를 반환, 처음 나오는 행이면 False를 반환
          ~~~
        * 중복 데이터 제거
          ~~~
          drop_duplicates() : 중복 데이터를 제거한다. 이 때 중복되는 행을 제거하고 고유한 관측값을 가진 행들만 남긴다.
          원복 객체를 변경하려면 inplace = True옵션을 추가한다.
          subset 옵션에 '열 이름의 리스트'를 전달할 수 있다. 데이터 중복 여부를 판단할 때, subset 옵션에 해당하는 열을 기준으로 판단한다.
          ~~~
      
    * chap3 데이터 표준화
        ---
        > 여러 곳에서 수집한 자료들은 단위선택, 대소문자 구문, 약칭 활용 등 여러가지 원인에 의해 다양한 형태로 표현된다.  
          이처럼 동일한 대상을 표현하는 방법에 차이가 있으면, 분석의 정확도는 낮아지므로 데이터 포맷을 일관성 있게 표준화 하는 작업이 필요하다.
        * 자료형 변환
          ~~~
          dtypes 속성을 이용하여 데이터프레임을 구성하는 각 열의 자료형을 확인한다.
          replace() 메소드를 사용하여 특정 자료형을 바꾸고 싶은 자료형으로 바꾼다.
          ~~~
    * chap4 범주형(카테고리) 데이터 처리    
        ---
        > 데이터 분석 알고리즘에 따라서는 일정한 구간(bin)으로 나눠서 분석하는 것이 효율적인 경우가 있다.  
          이처럼 연속 변수를 일정한 구간으로 나누고, 각 구간을 범주형 이산 변수로 변환하는 과정을 구간 분할(binning)이라고 한다.  
      
        * 구간 분할
          ~~~
          cut(): 연속 데이터를 여러구간으로 나누고 범주형 데이터로 변환할 수 있다.
          cut() 함수를 사용 할 때 include_lowest = True 옵션을 사용하면 각 구간의 낮은 경계값을 포함한다.
          histogram(): 나누려는 구간(bin) 개수를 bins 옵션에 입력하면 각 구간에 속하는 값의 개수(count)와 경계값 리스트(bin_dividers)를 반환한다.
          ~~~
        * 더미 변수
          
          카테고리를 나타내는 범주형 데이터를 회귀분석 등 머신러닝 알고리즘에 바로 사용할 수 없는 경우가 있는데 , 이럴 떄 숫자 0 또는 1로 표현되는 더미 변수를 사용한다.
          이때 0과 1은 수의 크고작음을 나타내지 않고, 어떤 특성이 있는지 없는지 여부만을 표시한다.
          ~~~
          get_dummies(): 범주형 변수의 모든 고유값을 각각 새로운 더미 변수로 변환한다.
          ~~~
    * chap5 정규화
      ---
        > 각 데이터 프레임의 열에 들어 있는 숫자 데이터의 상대적 크기 차이 때문에 머신러닝 분석 결과가 달라 질수 있다.
        각 열(변수)에 속하는 데이터 값을 동일한 크기 기준으로 나눈 비율로 나타내는 것을 정규화라고 한다.
        정규화과정을 거친 데이터의 범위는 0~1 또는 -1~1이 된다.     
        각 열(변수)의 데이터를 해당 열의 최대값(의 절대값)으로 나누는 방법이다.
        * 정규화
        ~~~
        각 열(변수)의 데이터 중에서 최대값(max)과 최소값(min)을 뺀 값으로 나누는 방법이다. 각 열 데이터에서  
        해당 열의 최소값을 뺀 값을 분자로 하고, 해당 열의 최대값과 최소값의 차를 분모로 하는 수를 게산하면 가장 큰 값은 역시 1이된다.
        ~~~
    * chap6 시계열 데이터
        ---
        >주식,환율 등 금융 데이터를 다루기 위해 개발된 판다스는 시계열(time series) 데이터를 다루는 여러가지 기능을 제공한다.
        시간표시 방식중에 특정한 시점을 기록하는 Timestamp와 두 시점 사이의 일정한 기간을 나타내는 Period가 있다.
      
        * 문자열을 Timestamp로 변환
        ~~~
        to_datetime() :  문자열 등 다른 자료형을 판다스 Timestamp를 나타내는 datetime64 자료형으로 변환 가능하다.
        ~~~
        * Timestamp를 Period로 변환
        ~~~
        to_period() :  일정한 기간을 나타내는 Period 객체로 Timestamp 객체로 변환할 수 있다.  
        freq 옵션에 기준이 되는 기간을 설정한다. ex) 'D': 1일, 'M':1개월, 'A':1년
        ~~~
        * Timestamp 배열
        ~~~
        date_range() : 여러개의 날짜(Timestamp)가 들어 있는 배열 형태의 시계열 데이터를 만들 수 있다.   
        ex) start = ""  날짜 범위 시작
        ex) end = None 날짜 범위 끝
        ex) periods = n(n은 숫자) 생설한 Timestamp 개수
        ex) freq = ""  시간 가격 설정     
        ex) tz = ""  시간대(timezone)
        ~~~
        * Period 배열
        ~~~
        period_range() : 여러개의 기간(Period)이 들어 있는 시계열 데이터를 만든다.
        ~~~